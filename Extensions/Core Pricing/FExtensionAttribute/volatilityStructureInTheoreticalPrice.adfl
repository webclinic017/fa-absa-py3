[Core Pricing]FInstrument:volatilityStructureInTheoreticalPrice = select(volatilityStructureInTheoreticalPriceObject, 
  nil->nil, 
  default->snoop01(theoreticalPrice, "surfaceSimulationVolatilityShift", volatilityStructureInTheoreticalPriceObject.VolatilityStructure));
[Core Pricing]FInstrumentAndTrades:volatilityStructureInTheoreticalPrice = select(volatilityStructureInTheoreticalPriceObject, 
  nil->nil, 
  default->snoop01(theoreticalPrice, "surfaceSimulationVolatilityShift", volatilityStructureInTheoreticalPriceObject.VolatilityStructure, lotIndex));
[Core Pricing]FPriceAggregate:volatilityStructureInTheoreticalPrice = select(volatilityStructureInTheoreticalPriceObject, 
  nil->nil, 
  default->snoop01(theoreticalPrice, "surfaceSimulationVolatilityShift", volatilityStructureInTheoreticalPriceObject.VolatilityStructure));
[Core Pricing]FVolatilityPoint:volatilityStructureInTheoreticalPrice = 0.0;