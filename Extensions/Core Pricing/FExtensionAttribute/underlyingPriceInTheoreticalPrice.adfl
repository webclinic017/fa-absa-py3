[Core Pricing]FInstrument:underlyingPriceInTheoreticalPrice = select(snoop01(theoreticalPrice, marketPriceRiskFactorNames, ^underlyingForUnderlyingPriceInTheoreticalPrice), 
  nil->nil, 
  default->snoop01(theoreticalPrice, marketPriceRiskFactorNames, ^underlyingForUnderlyingPriceInTheoreticalPrice));
[Core Pricing]FInstrumentAndTrades:underlyingPriceInTheoreticalPrice = snoop01(theoreticalPrice, marketPriceRiskFactorNames, ^underlyingForUnderlyingPriceInTheoreticalPrice);
[Core Pricing]FMultiInstrumentAndTrades:underlyingPriceInTheoreticalPrice = select(snoop01(theoreticalValue, marketPriceRiskFactorNames, ^underlyingForUnderlyingPriceInTheoreticalPrice), 
  nil->nil, 
  default->snoop01(theoreticalValue, marketPriceRiskFactorNames, ^underlyingForUnderlyingPriceInTheoreticalPrice));
[Core Pricing]FOrderBook:underlyingPriceInTheoreticalPrice = select(snoop01(theoreticalPrice, marketPriceRiskFactorNames, ^underlyingForUnderlyingPriceInTheoreticalPrice), 
  nil->nil, 
  default->snoop01(theoreticalPrice, marketPriceRiskFactorNames, ^underlyingForUnderlyingPriceInTheoreticalPrice));
[Core Pricing]FPortfolioInstrumentAndTrades:underlyingPriceInTheoreticalPrice = nil;
[Core Pricing]FPriceAggregate:underlyingPriceInTheoreticalPrice = select(snoop01(theoreticalPrice, marketPriceRiskFactorNames, ^underlyingForUnderlyingPriceInTheoreticalPrice), 
  nil->nil, 
  default->snoop01(theoreticalPrice, marketPriceRiskFactorNames, ^underlyingForUnderlyingPriceInTheoreticalPrice));