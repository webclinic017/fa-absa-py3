[Core Pricing]FInstrument:volatilityStructureInTheoreticalPriceObject = select(hasUniqueVolatility, 
  false->nil, 
  true->collapse(optionVolatilityStructureInTheoreticalPrice));
[Core Pricing]FInstrumentAndTrades:volatilityStructureInTheoreticalPriceObject = openInstrumentOrInstrument:volatilityStructureInTheoreticalPriceObject [theoreticalPrice, referenceInstrumentForVolatility, priceSource, isSplitAllGrouped];
[Core Pricing]FPriceAggregate:volatilityStructureInTheoreticalPriceObject = instrument:volatilityStructureInTheoreticalPriceObject [theoreticalPrice, referenceInstrumentForVolatility, priceSource, isSplitAllGrouped];