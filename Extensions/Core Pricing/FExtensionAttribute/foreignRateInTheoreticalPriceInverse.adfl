[Core Pricing]FInstrumentAndTrades:foreignRateInTheoreticalPriceInverse = select(interestModelProviderCurveComponentInTheoreticalPrice, 
  nil->nil, 
  default->select(openInstrumentOrInstrument:hasInverseValueProviderInTheoreticalPrice [theoreticalPrice], 
    true->CreateInterestComponentWithSimulatedDomesticRate(foreignRateInTheoreticalPriceInverseVariable, interestModelProviderCurveComponentInTheoreticalPrice, interestModelProviderStartDateInTheoreticalPrice, forwardValuationDateInTheoreticalPrice, domesticCurveRateType, domesticCurveDayCountMethod, domesticCurveCalendarInfo, fxInterestModelProviderCurveComponentInTheoreticalPrice, fxInterestModelProviderStartDateInTheoreticalPrice), 
    false->CreateInterestComponentWithSimulatedForeignRate(foreignRateInTheoreticalPriceInverseVariable, interestModelProviderCurveComponentInTheoreticalPrice, interestModelProviderStartDateInTheoreticalPrice, forwardValuationDateInTheoreticalPrice, foreignCurveRateType, foreignCurveDayCountMethod, foreignCurveCalendarInfo)));
[Core Pricing]FMultiInstrumentAndTrades:foreignRateInTheoreticalPriceInverse = nil;
[Core Pricing]FPriceAggregate:foreignRateInTheoreticalPriceInverse = nil;