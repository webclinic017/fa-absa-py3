[Core Pricing]FInstrumentAndTrades:domesticCurrencyCurveInTheoreticalPrice = snoop01(theoreticalPrice, "fxDiscountCurve", select(domesticCurrency, 
  default->domesticCurrency, 
  nil->instrument), lotIndex);
[Core Pricing]FOrderBook:domesticCurrencyCurveInTheoreticalPrice = snoop01(theoreticalPrice, "fxDiscountCurve", select(domesticCurrency, 
  default->domesticCurrency, 
  nil->instrument));
[Core Pricing]FPriceAggregate:domesticCurrencyCurveInTheoreticalPrice = priceFeed:domesticCurrencyCurveInTheoreticalPrice;
[Core Pricing]FPriceFeed:domesticCurrencyCurveInTheoreticalPrice = snoop01(theoreticalPrice, "fxDiscountCurve", select(domesticCurrency, 
  default->domesticCurrency, 
  nil->instrument));