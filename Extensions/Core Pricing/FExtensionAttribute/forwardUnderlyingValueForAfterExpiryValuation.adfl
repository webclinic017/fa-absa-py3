[Core Pricing]FInstrument:forwardUnderlyingValueForAfterExpiryValuation = select(isCashSettled, 
  true->shunt[priceSource, doSplitAll](underlyingMtMPriceSourceExpiry.PriceExists, 
    true->underlyingMtMValueExpiryAdjusted * fxUnderlyingToStrikeExpiry, 
    false->underlyingValue), 
  false->forwardModel(underlyingForwardValueModel, valuationStartSpotDate));