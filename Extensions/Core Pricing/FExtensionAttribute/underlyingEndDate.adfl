[Core Pricing]FDerivative:underlyingEndDate = select(underlying:isGeneric, 
  true->nil, 
  false->underlying:endDate);
[Core Pricing]FInstrument:underlyingEndDate = nil;
[Core Pricing]FInstrumentAndTrades:underlyingEndDate = instrument:underlyingEndDate;
[Core Pricing]FMultiInstrumentAndTrades:underlyingEndDate = nil;