[Core Pricing]FInstrumentAndTrades:foreignRateInTheoreticalPriceTransform = select(interestModelProviderCurveComponentInTheoreticalPrice, 
  nil->nil, 
  default->select(openInstrumentOrInstrument:hasInverseValueProviderInTheoreticalPrice [theoreticalPrice], 
    true->curveComponentDomesticRate, 
    false->curveComponentForeignRate));
[Core Pricing]FMultiInstrumentAndTrades:foreignRateInTheoreticalPriceTransform = nil;
[Core Pricing]FPriceAggregate:foreignRateInTheoreticalPriceTransform = nil;