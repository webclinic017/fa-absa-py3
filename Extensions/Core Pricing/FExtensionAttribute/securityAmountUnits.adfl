[Core Pricing]FRepoInstrument:securityAmountUnits = select(isGeneric, 
  true->1.0 / double(underlying:forwardValue [priceSource, doSplitAll, calculationCurrency, discountingType, useSpotProxy = true, forwardValuationInInstrumentCurrency = false, forwardValuationDate = startDate]), 
  false->object.RefValue / contractSize);