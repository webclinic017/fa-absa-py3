[Core Pricing]FInstrument:spotToExpiryVolatility = select(volatilityInformationHasGenericValueFunction, 
  true->volatilityInformation:volatilityValue [volatilityValueVolatilityInformation = volatilityInformation, volatilityValueExpiryDate = expiryDate, volatilityValueUnderlyingMaturity = underlyingMaturityValue, volatilityValueStrikePrice = strikePriceForForwardStart, volatilityValueCallPutType = callPutTypeForVolatility, volatilityValueInputToSurfaceStrikeConverters = surfaceDependentVolatilityStrikeConverter, priceSource, doSplitAll], 
  false->volatilityInformation.Value(underlyingMaturityDate, expiryDate, strikePriceForForwardStart, isCall, underlyingIsGeneric, true, underlyingForwardPriceForVolatility, skewExpiriesForwardPriceForVolatility, foreignRateForVolatility, domesticRateForVolatility));