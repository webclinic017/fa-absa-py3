[Core Pricing]FInstrument:theoreticalOrFixedMarkToMarketValuesUndiscounted = shunt[priceSource, valuesOnSpotOverride, positionObject, positionValues, accountingParameters, tradedPortfolio, doSplitAll, legs, positionTradeQuantities, useBidAskValuation, isBook, includeEmbeddedOption, useMarkToMarketPriceToday](useMarkToMarketPriceToday, 
  0->collapse(theoreticalValuesUndiscounted), 
  1->shunt[priceSource, valuesOnSpotOverride, positionObject, positionValues, accountingParameters, tradedPortfolio, doSplitAll, legs, positionTradeQuantities, useBidAskValuation, isBook, includeEmbeddedOption, useMarkToMarketPriceToday](hasMarkToMarketPriceToday, 
    true->collapse(marketValuesUndiscounted), 
    false->collapse(theoreticalValuesUndiscounted)), 
  2->collapse(marketValuesUndiscounted));