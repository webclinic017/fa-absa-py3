[Core Pricing]FCashFlowInstrument:marketPositionValues = shunt[accountingInclusionDate, priceSource, doSplitAll, contractSize, positionTradeQuantities, legs, valuesOnSpotOverride, useMarkToMarketPriceToday, useBidAskValuation](moveSpotPositionType, 
  "None"->positionValue(positionTradeQuantities, marketSpotValues, contractSize, timeDistributionFactor), 
  "Repo"->movePositionValueRepo(marketSpotValues, positionTradeQuantities, valuationDate, valuationOrSpotDate, repoCurve) * contractSize, 
  "Full"->marketInstrumentPositionValues);
[Core Pricing]FDerivative:marketPositionValues = positionValue(positionTradeQuantities, marketSpotValues, contractSize, timeDistributionFactor);
[Core Pricing]FFxRate:marketPositionValues = marketInstrumentPositionValues;
[Core Pricing]FInstrument:marketPositionValues = marketInstrumentPositionValues * timeDistributionFactor;