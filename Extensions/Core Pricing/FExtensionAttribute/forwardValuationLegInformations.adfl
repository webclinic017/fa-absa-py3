[Core Pricing]FCashFlowInstrument:forwardValuationLegInformations[doSplitAll, priceSource, legCurrencyFilterProvider, legs] = forwardValuationLegs :* "legInformation" [doSplitAll, priceSource];
[Core Pricing]FCombInstrMap:forwardValuationLegInformations[doSplitAll, priceSource, legCurrencyFilterProvider] = instrument:forwardValuationLegInformations [doSplitAll, priceSource, legCurrencyFilterProvider];
[Core Pricing]FCombination:forwardValuationLegInformations[doSplitAll, priceSource, legCurrencyFilterProvider] = (instrumentMapsWithLegs :* "forwardValuationLegInformations" [doSplitAll, priceSource, legCurrencyFilterProvider]).Flatten;
[Core Pricing]FInstrument:forwardValuationLegInformations = nil;