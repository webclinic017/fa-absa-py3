[Core Pricing]FInstrumentAndTrades:domesticRateInTheoreticalPriceTransform = select(interestModelProviderCurveComponentInTheoreticalPrice, 
  nil->nil, 
  default->select(openInstrumentOrInstrument:hasInverseValueProviderInTheoreticalPrice [theoreticalPrice], 
    true->curveComponentForeignRate, 
    false->curveComponentDomesticRate));
[Core Pricing]FMultiInstrumentAndTrades:domesticRateInTheoreticalPriceTransform = nil;
[Core Pricing]FPriceAggregate:domesticRateInTheoreticalPriceTransform = nil;