[IRD Pricing and Risk]FInstrument:undForeignCurrLegForwRate = select(undForeignCurrLeg:isFloatLeg, 
  true->undForeignCurrLeg :* "nonCouponValue" [forwardPriceDate = expiryDate] / undForeignCurrLeg :* "couponFactorFloat" [forwardPriceDate = expiryDate], 
  false->denominatedvalue(0.0, undForeignCurrLeg:currency, , ));