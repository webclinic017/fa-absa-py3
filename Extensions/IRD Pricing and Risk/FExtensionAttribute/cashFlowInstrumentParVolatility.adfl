[IRD Pricing and Risk]FCap:cashFlowInstrumentParVolatility = switch(almostZero(theoreticalPriceFromLastCashFlowVolatility - theoreticalInstrumentSpotValueForPrice, cashFlowImplyPrecision), 
  true->lastCashFlowVolatility, 
  false->impliedCashFlowInstrumentParVolatility);
[IRD Pricing and Risk]FCashFlowInstrument:cashFlowInstrumentParVolatility = impliedCashFlowInstrumentParVolatility;
[IRD Pricing and Risk]FFloor:cashFlowInstrumentParVolatility = switch(almostZero(theoreticalPriceFromLastCashFlowVolatility - theoreticalInstrumentSpotValueForPrice, cashFlowImplyPrecision), 
  true->lastCashFlowVolatility, 
  false->impliedCashFlowInstrumentParVolatility);