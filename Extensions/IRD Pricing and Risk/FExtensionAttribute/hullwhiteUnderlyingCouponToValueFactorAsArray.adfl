[IRD Pricing and Risk]FInstrument:hullwhiteUnderlyingCouponToValueFactorAsArray = select(underlyingIsOnBalanceSheet, 
  true->collapse(pv01AsArray), 
  default->collapse(underlyingCouponToValueFactorAsArray));