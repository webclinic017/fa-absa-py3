[PreAndPostTradeAnalysis]FGroupingOrder:preTradeParticipationRatePeriodAverage = preTradeInitValue / preTradeAveragePeriodValue;
[PreAndPostTradeAnalysis]FOrderProgram:preTradeParticipationRatePeriodAverage = switch(preTradeAnalysisHasPeriod, 
  true->switch(customerCurrency, 
    nil->preTradeInitValue / preTradeAveragePeriodValue, 
    default->preTradeInitValueCustomerCurrency / preTradeAveragePeriodValueCustomerCurrency), 
  default->0.0);
[PreAndPostTradeAnalysis]FPrePostTradeAnalysis:preTradeParticipationRatePeriodAverage = switch(preTradeAnalysisHasPeriod, 
  true->(preTradeInitValue / preTradeAveragePeriodValue), 
  default->0.0);
[PreAndPostTradeAnalysis]FSalesOrder:preTradeParticipationRatePeriodAverage = prePostTradeAnalysis:preTradeParticipationRatePeriodAverage;