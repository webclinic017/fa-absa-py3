[Absa_2010]FInstrument:europeanOptionValueAfterExpiry = select(isEquity, 
  true->shunt((today <> valuationDate) and (valuationDate <> object.ExpiryDateOnly) and (ThetaShift <> 0), 
    true->theorZeroOption(valuationDate, currency, underlyingSpotPrice), 
    false->europeanIntrinsicValueModel(underlyingValueModelOnExpiryDayAsArrayForAfterExpiryValuation, underlyingValueModelAsArrayForAfterExpiryValuation, strikeValueModelForAfterExpiryValuation, isCall, isDigital, isCashSettled, expiryDateTimeModelAsArrayForAfterExpiryValuation, valuationDateTime, payDateModelAsArrayForAfterExpiryValuation, priceDomainFactorOnRelativePriceShift)), 
  false->europeanIntrinsicValueModel(underlyingValueModelOnExpiryDayAsArrayForAfterExpiryValuation, underlyingValueModelAsArrayForAfterExpiryValuation, strikeValueModelForAfterExpiryValuation, isCall, isDigital, isCashSettled, expiryDateTimeModelAsArrayForAfterExpiryValuation, valuationDateTime, payDateModelAsArrayForAfterExpiryValuation, priceDomainFactorOnRelativePriceShift));