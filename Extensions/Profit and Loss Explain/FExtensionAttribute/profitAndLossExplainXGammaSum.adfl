[Profit and Loss Explain]FInstrumentAndTrades:profitAndLossExplainXGammaSum = select(nil == timeBucketsSetExternally, 
  true->select(profitAndLossExplainType, 
    "Risk Factor Change"->nil, 
    "Risk Factor Change 2"->nil, 
    default->switch(0 == count(profitAndLossExplainRiskFactorVectorItems), 
      true->plZero, 
      false->sumOf(profitAndLossExplainRiskFactorVectorItems :* "profitAndLossExplainPerRiskFactorXGamma" [displayCurrency, profitAndLossExplainType, riskFactorTypeName, riskFactorTypeNameSecond, profitAndLossExplainTimeBucketsSetExternally, rowObject := object]))), 
  false->timeBucketsSetExternallyNilVector);