[Commodity Valuations]FCommodity:foreignRate = select(useExplicitConvenienceYield, 
  true->convenienceYield, 
  false->underlyingCurrencyDiscountRate - calc_carry_cost(carryStartDate, carryEndDate, priceCurveModel(priceCurve, carryStartDate).Number, priceCurveModel(priceCurve, carryEndDate).Number));