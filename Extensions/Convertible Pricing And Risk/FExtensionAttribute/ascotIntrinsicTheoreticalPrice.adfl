[Convertible Pricing And Risk]FInstrument:ascotIntrinsicTheoreticalPrice = nil;
[Convertible Pricing And Risk]FOption:ascotIntrinsicTheoreticalPrice = shunt(isFinite(cleanUnderlyingSpotPriceAsUnderlying), 
  true->max(cleanUnderlyingSpotPriceAsUnderlying - recallPrice, valuationDateZero), 
  default->throwError("Could not calculate the price of the underlying cb"));