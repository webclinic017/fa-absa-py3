[ACL]FCurrencySwap:faclAttrPayPrincipal = select(faclPayLeg, 
  nil->nil, 
  default->faclPayLeg.NominalFactor * instrument.ContractSize);
[ACL]FInstrument:faclAttrPayPrincipal = 0.0;
[ACL]FTradeRow:faclAttrPayPrincipal = faclAttrScalingFactor * select(trade.Quantity * instrument:contractSize > 0, 
  true->abs(trade.Quantity * instrument:faclAttrPayPrincipal), 
  false->abs(trade.Quantity * instrument:faclAttrReceivePrincipal));