[Fixed Income Pricing and Risk]FInstrument:modifiedDurationFromYTF = shunt(exerciseEventsExist, 
  false->modifiedDuration, 
  default->-theoreticalInstrumentSpotValueDirtyFromYTF'(marketYieldToFirst, ytmShift) / theoreticalInstrumentSpotValueDirtyFromYTF);
[Fixed Income Pricing and Risk]FInstrumentAndTrades:modifiedDurationFromYTF = instrument:modifiedDurationFromYTF;
[Fixed Income Pricing and Risk]FMultiInstrumentAndTrades:modifiedDurationFromYTF = nil;