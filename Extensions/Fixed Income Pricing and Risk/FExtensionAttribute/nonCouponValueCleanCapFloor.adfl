[Fixed Income Pricing and Risk]FCashFlowInstrument:nonCouponValueCleanCapFloor = firstLeg:nonCouponValueCapFloor [forwardValueRiskyDiscountDate = valuationDate, forwardValueDate = instrumentSpotDate] - denominatedvalue(firstLeg:nonCouponValueAccruedCapFloor, currency, , instrumentSpotDate);