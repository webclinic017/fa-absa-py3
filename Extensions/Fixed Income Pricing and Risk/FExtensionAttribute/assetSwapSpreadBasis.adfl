[Fixed Income Pricing and Risk]FBond:assetSwapSpreadBasis = shunt[priceSource, assetSwapRateIndexSpecification](implyValid, 
  true->assetSwapInstrumentFloatLeg :* "impliedSpread" [marketUnitValue, marketPrice = assetSwapMarketPriceCalculated], 
  false->nil);
[Fixed Income Pricing and Risk]FInstrument:assetSwapSpreadBasis = nil;
[Fixed Income Pricing and Risk]FInstrumentAndTrades:assetSwapSpreadBasis = instrument :* "assetSwapSpreadBasis" [priceSource, assetSwapRateIndexSpecification];
[Fixed Income Pricing and Risk]FMultiInstrumentAndTrades:assetSwapSpreadBasis = nil;
[Fixed Income Pricing and Risk]FSwap:assetSwapSpreadBasis = nil;