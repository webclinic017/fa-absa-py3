[Fixed Income Pricing and Risk]FInstrument:expiryDateForCouponToValue = select(underlying:isValidSwaptionUnderlying or isSpreadOption, 
  true->carryEndDateInverted, 
  default->expiryDate);