[Fixed Income Pricing and Risk]FLeg:currencyCurveForLeg = select(("Fx Rate" == nominalScalingEstimateType) or ("Fx Rate" == fixingEstimateType), 
  true->select(nominalScalingEstimateType, 
    "Fx Rate"->currency:fxDiscountCurve, 
    default->currency:discountCurve), 
  false->nil);