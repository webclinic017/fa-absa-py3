[Fixed Income Pricing and Risk]FInstrument:impliedFlatYieldSpread = shunt(implyValid and (discountCurvesInTheoreticalPrice <> nil) and valuationModelIsVariableCredit, 
  false->nil, 
  true->imply(flatYieldSpread, theoreticalPriceFlatYieldSpread, marketPrice, implyPrecision, lowerBoundForImpliedFlatYieldSpread, upperBoundForImpliedFlatYieldSpread, 100));
[Fixed Income Pricing and Risk]FInstrumentAndTrades:impliedFlatYieldSpread = instrument :* "impliedFlatYieldSpread" [marketPrice];
[Fixed Income Pricing and Risk]FMultiInstrumentAndTrades:impliedFlatYieldSpread = nil;