[Fixed Income Pricing and Risk]FCashFlowInstrument:theoreticalPriceFromAssetSwapSpread = select(assetSwapSpreadCalculationValid, 
  true->object.UnitValueToQuote(theoreticalValueFromAssetSwapSpread, valuationDate, valuationDate, true, legInformations, staticLegInformations, quotation, couponToValueFactor, couponPriceAdjustment, , , roundingInformation), 
  false->nil);
[Fixed Income Pricing and Risk]FInstrument:theoreticalPriceFromAssetSwapSpread = nil;
[Fixed Income Pricing and Risk]FInstrumentAndTrades:theoreticalPriceFromAssetSwapSpread = instrument:theoreticalPriceFromAssetSwapSpread;