[Default]FInstrument:genericParametricVolatilityValue = select(useATMFXStrike or valuationAddOnNeedsATMVolatilityForValuation, 
  true->collapse(genericATMParametricVolatilityValue), 
  false->volatilityInformation:volatilityValue [volatilityValueVolatilityInformation = volatilityInformation, volatilityValueExpiryDate = expiryDate, volatilityValueUnderlyingMaturity = underlyingMaturityValue, volatilityValueStrikePrice = surfaceDependentVolatilityStrikePrice, volatilityValueCallPutType = callPutTypeForVolatility, volatilityValueInputToSurfaceStrikeConverters = surfaceDependentVolatilityStrikeConverter, priceSource, doSplitAll]);