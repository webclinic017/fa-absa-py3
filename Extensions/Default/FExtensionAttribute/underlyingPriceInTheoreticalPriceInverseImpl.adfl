[Default]FInstrument:underlyingPriceInTheoreticalPriceInverseImpl = select(isReciprocal, 
  true->denominatedvalue(inv(underlyingPriceInTheoreticalPriceInvConverted), underlyingForUnderlyingPriceInTheoreticalPrice:domesticCurrency, nil, datetime(underlyingPriceInTheoreticalPriceInvConverted)), 
  default->underlyingForUnderlyingPriceInTheoreticalPrice:quoteConversionWrapperQuoteToUnitValue [quoteConversionWrapperFromQuote = underlyingPriceInTheoreticalPriceInverseVariable, quoteConversionWrapperFromQuotation = underlyingPriceInTheoreticalPriceQuotation, priceSource, isSplitAllGrouped]);