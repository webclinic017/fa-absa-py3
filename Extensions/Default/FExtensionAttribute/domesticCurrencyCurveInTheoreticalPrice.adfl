[Default]FInstrumentAndTrades:domesticCurrencyCurveInTheoreticalPrice = snoop01(theoreticalPrice, "fxDiscountCurve", select(domesticCurrency, 
  default->domesticCurrency, 
  nil->instrument), lotIndex);
[Default]FOrderBook:domesticCurrencyCurveInTheoreticalPrice = snoop01(theoreticalPrice, "fxDiscountCurve", select(domesticCurrency, 
  default->domesticCurrency, 
  nil->instrument));
[Default]FPriceAggregate:domesticCurrencyCurveInTheoreticalPrice = priceFeed:domesticCurrencyCurveInTheoreticalPrice;
[Default]FPriceFeed:domesticCurrencyCurveInTheoreticalPrice = snoop01(theoreticalPrice, "fxDiscountCurve", select(domesticCurrency, 
  default->domesticCurrency, 
  nil->instrument));