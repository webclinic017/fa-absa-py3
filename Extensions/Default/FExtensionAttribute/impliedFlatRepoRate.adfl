[Default]FDeliverableLinkAndTrades:impliedFlatRepoRate = tradedInstrument :* "impliedFlatRepoRate" [priceSource, ctdFactor, ctd = instrument];
[Default]FInstrument:impliedFlatRepoRate = shunt((nil <> repoCurvesInTheoreticalPrice) and implyValid, 
  false->nil, 
  true->imply(flatRepoRate, theoreticalPriceFromFlatRepoRate, marketPrice, implyPrecision, -0.99, 1.0, implyMaxIterations));
[Default]FInstrumentAndTrades:impliedFlatRepoRate = instrument :* "impliedFlatRepoRate" [marketPrice];
[Default]FMultiInstrumentAndTrades:impliedFlatRepoRate = nil;