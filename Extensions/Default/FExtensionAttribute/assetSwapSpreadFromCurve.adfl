[Default]FCashFlowInstrument:assetSwapSpreadFromCurve = double((-object:marketUnitValue [discountCurve = assetSwapIrCurveInformation, marketPrice] + instrument :* "moveValue" [moveStartValue = sumOf(legs :* "theoreticalLegComponentValue" [discountCurve = assetSwapIrCurveInformation]), moveToDate = instrument:instrumentSpotDate, priceSource, valuesOnSpotOverride]) / abs(firstLeg :* "forwardAssetSwapCouponFactor" [forwardValueDate = instrumentSpotDate, riskFreeDiscountCurve = assetSwapIrCurveInformation]));
[Default]FInstrument:assetSwapSpreadFromCurve = nil;