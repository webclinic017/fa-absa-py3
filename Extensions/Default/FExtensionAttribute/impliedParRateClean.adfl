[Default]FCashFlowInstrument:impliedParRateClean = select(isMultiExercise, 
  false->imply(snoop(shiftCoupon, "shiftCouponValue"), shiftCoupon, unitGoalValueForPar, implyPrecision, lowerBoundForImpliedCoupon, upperBoundForImpliedCoupon, implyMaxIterations), 
  true->imply(parCouponInTheoreticalPriceClean, theoreticalPriceClean, unitGoalValueForPar, implyPrecision, lowerBoundForImpliedCoupon, upperBoundForImpliedCoupon, implyMaxIterations));