[Default]FInstrument:ladderReachedRungOrUnderlyingValueForAfterExpiryValuation = select(ladderHasReachedRung, 
  true->switch(isCall == (double(ladderReachedRung) > double(underlyingValueForAfterExpiryValuation)), 
    true->ladderReachedRung, 
    false->underlyingValueForAfterExpiryValuation), 
  false->underlyingValueForAfterExpiryValuation);