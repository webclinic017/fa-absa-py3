[Default]FInstrument:numberOfCapFloorLegs = select(legs, 
  nil->0, 
  default->(legs :* "object.IsCapFloorLeg").OccurencesOf(true));