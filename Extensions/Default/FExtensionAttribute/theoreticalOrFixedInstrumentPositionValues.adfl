[Default]FInstrument:theoreticalOrFixedInstrumentPositionValues = shunt[priceSource, doSplitAll, valuesOnSpotOverride, positionTradeQuantities, useFallbackToTheoreticalValues, useBidAskValuation](useMarkToMarketPriceToday, 
  0->collapse(theoreticalInstrumentPositionValues), 
  1->shunt[priceSource, doSplitAll, valuesOnSpotOverride, positionTradeQuantities, useFallbackToTheoreticalValues, useBidAskValuation](hasMarkToMarketPriceToday, 
    true->collapse(marketInstrumentPositionValues), 
    false->collapse(theoreticalInstrumentPositionValues)), 
  2->collapse(marketInstrumentPositionValues));