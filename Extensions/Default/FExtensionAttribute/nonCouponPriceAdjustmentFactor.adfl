[Default]FCashFlowInstrument:nonCouponPriceAdjustmentFactor = select(isValidSwaptionUnderlying, 
  true->discountCurve.Discount(instrumentSpotDate, forwardValueDate) * nonCouponPriceSign, 
  false->1.0);
[Default]FInstrument:nonCouponPriceAdjustmentFactor = 1.0;