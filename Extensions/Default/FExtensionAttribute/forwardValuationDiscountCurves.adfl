[Default]FCashFlowInstrument:forwardValuationDiscountCurves[useBESADiscounting, useRiskFreeDiscounting, legCurrencyFilterProvider, legs] = forwardValuationLegs :* "collapse(theoreticalLegValueCurve)" [useBESADiscounting, useRiskFreeDiscounting];
[Default]FCombInstrMap:forwardValuationDiscountCurves[useBESADiscounting, useRiskFreeDiscounting, legCurrencyFilterProvider] = instrument:forwardValuationDiscountCurves [useBESADiscounting, useRiskFreeDiscounting, legCurrencyFilterProvider];
[Default]FCombination:forwardValuationDiscountCurves[useBESADiscounting, useRiskFreeDiscounting, legCurrencyFilterProvider] = (instrumentMapsWithLegs :* "forwardValuationDiscountCurves" [useBESADiscounting, useRiskFreeDiscounting, legCurrencyFilterProvider]).Flatten;
[Default]FInstrument:forwardValuationDiscountCurves = nil;