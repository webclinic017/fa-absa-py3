[Default]FInstrument:volatilitySurfaceShiftInTheoreticalPrice = select(optionVolatilityStructureInTheoreticalPrice, 
  nil->nil, 
  default->snoop01(theoreticalPrice, "surfaceSimulationVolatilityShift", optionVolatilityStructureInTheoreticalPrice.VolatilityStructure));
[Default]FInstrumentAndTrades:volatilitySurfaceShiftInTheoreticalPrice = openInstrumentOrInstrument:volatilitySurfaceShiftInTheoreticalPrice [theoreticalPrice, priceSource, isSplitAllGrouped];
[Default]FMultiInstrumentAndTrades:volatilitySurfaceShiftInTheoreticalPrice = nil;