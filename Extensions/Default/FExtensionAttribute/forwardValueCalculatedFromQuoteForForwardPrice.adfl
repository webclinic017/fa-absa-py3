[Default]FInstrument:forwardValueCalculatedFromQuoteForForwardPrice = switch(isFinite(marketPriceInMarketSpotValue), 
  true->shift(forwardValueCalculatedFromQuote, theoreticalLegComponentSpotPriceQuoteInForwardValueCalculatedFromQuote, [marketPriceInMarketSpotValue]), 
  false->forwardValueCalculatedFromQuote);