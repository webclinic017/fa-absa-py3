[Default]FInstrument:underlyingForwardValueModelForAfterExpiryCore = select(isCashSettled, 
  true->object:underlyingValueModel [underlyingStartValueForForwardValueCalculation = underlyingValueFromSpotPriceAsUnderlyingOnExpiryDayForAfterExpiryValuation, expiryDateTime = settlementDate, carryEndDate, isQuanto = false], 
  false->object:underlyingForwardValueModelAdjusted [underlyingStartValueForForwardValueCalculation = underlyingValueForSpotPriceAsUnderlyingForAfterExpiryValuation, carryEndDate = max(carryEndDate, valuationDate), dividendSensitivityEndDate = valuationDate, isQuanto = false, priceSource, doSplitAll]);