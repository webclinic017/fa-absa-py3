[Default]FFxRate:ccrPositiveSumMarkToMarketValues = discountAndFilterCurrency(ccrPositiveMarkToMarketValuesFx, discountAndConvertToBaseForwardFXConversionMoneyMarketCurve, discountAndConvertToBaseDate, filterUnit);
[Default]FInstrument:ccrPositiveSumMarkToMarketValues = denominatedValueOrBasket(max(markToMarketValues, baseDateZero));
[Default]FInstrumentAndTrades:ccrPositiveSumMarkToMarketValues = openInstrument :* "ccrPositiveSumMarkToMarketValues" [priceSource, isSplitAllGrouped, valuesOnSpotOverride, positionObject, useMarkToMarketPriceToday, useFallbackToTheoreticalValues, profitAndLossParameters, filterUnit, groupingSpotDiscountDate, plSpotGroupingReference, profitAndLossFXRateDate, accountingParameters, tradedPortfolio, forwardFXConversionCurvesIgnoreDiscType, forwardFXConversionFXRatesIgnoreDiscType, displayCurrency];
[Default]FMultiInstrumentAndTrades:ccrPositiveSumMarkToMarketValues = sumOf(openInstruments :* "ccrPositiveSumMarkToMarketValues" [priceSource, isSplitAllGrouped, valuesOnSpotOverride, positionObject, useMarkToMarketPriceToday, useFallbackToTheoreticalValues, profitAndLossParameters, filterUnit, groupingSpotDiscountDate, plSpotGroupingReference, profitAndLossFXRateDate, accountingParameters, tradedPortfolio, forwardFXConversionCurvesIgnoreDiscType, forwardFXConversionFXRatesIgnoreDiscType, displayCurrency, forwardFXConversionCurrencySymbol := displayCurrencySymbol]);