[Default]FLeg:spreadFixingCustomImplementation[spreadFixingDate] = select(spreadFixingCustomImplementationLookUp, 
  nil->nil, 
  default->object :* spreadFixingCustomImplementationLookUp [spreadFixingDate]);
[Default]FLegAndTrades:spreadFixingCustomImplementation = leg:spreadFixingCustomImplementation [spreadFixingDate = observationDate];