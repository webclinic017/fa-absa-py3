[Core Risk]FTimeBucketAndObject:gapClosedProfitRate = switch(double(gapClosed) <> 0, 
  true->switch(double(notANumberIsZero(gapAsset)) > 0, 
    true->notANumberIsZero(gapAssetRate) - notANumberIsZero(gapLiabilityRate), 
    false->notANumberIsZero(gapLiabilityRate) - notANumberIsZero(gapAssetRate)), 
  false->nil);