[Core Risk]FInstrument:theoreticalSpotValueForPriceShift = select(isCashFlowInstrumentAndPriceDeltaSensitive, 
  true->shift(theoreticalOrMarketInstrumentValue, theoreticalLegComponentValueInTheoreticalInstrumentValue, [theoreticalLegComponentValueFromQuote]), 
  false->theoreticalOrMarketInstrumentValue);