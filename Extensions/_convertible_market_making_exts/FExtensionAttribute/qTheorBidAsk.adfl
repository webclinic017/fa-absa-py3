[_convertible_market_making_exts]FQuoteController:qTheorBidAsk = select(underlyingIsValuedFromLegs, 
  true->shiftarray(theoreticalPrice, snoop(theoreticalPrice, "spotPriceAsUnderlying"), fixedvariant [qUndBidPrice, qUndAskPrice]), 
  false->shunt(qVolaAddOnEnabled, 
    true->qTheorBidAskWithVolOffset, 
    false->qTheorBidAskWithoutVolOffset));