[ABSAPortfolioSwap]FInstrument:cfdRequiredMargin = 0;
[ABSAPortfolioSwap]FInstrumentAndTrades:cfdRequiredMargin = sumOf(instruments :* "cfdRequiredMargin" [positionObject]);
[ABSAPortfolioSwap]FMultiInstrumentAndTrades:cfdRequiredMargin = sumOf(instruments :* "cfdRequiredMargin" [positionObject]);
[ABSAPortfolioSwap]FPortfolioInstrumentAndTrades:cfdRequiredMargin = sumOf(instruments :* "cfdRequiredMargin" [positionObject]);
[ABSAPortfolioSwap]FSingleInstrumentAndTrades:cfdRequiredMargin = instrument :* "cfdRequiredMargin" [positionObject];
[ABSAPortfolioSwap]FStock:cfdRequiredMargin = abs(profitAndLossPositionDisplay * (cfdMarketPrice / 100)) * (cfdMarginRate / 100);