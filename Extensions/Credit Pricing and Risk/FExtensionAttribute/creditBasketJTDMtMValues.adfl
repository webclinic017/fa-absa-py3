[Credit Pricing and Risk]FCombInstrMap:creditBasketJTDMtMValues = instrument :* "creditBasketJTDMtMValuesCore" [doSplitAll, priceSource, singleTradePosition, creditIssuerGroupingReference, filterUnit, groupingSpotDiscountDate, includeAllTrades, theoreticalValuesUndiscounted, instrumentForJTDShift = instrument:instrumentForJTDShift];
[Credit Pricing and Risk]FCombination:creditBasketJTDMtMValues = sumOf(instrumentMaps :* "creditBasketJTDMtMValues" [doSplitAll, priceSource, singleTradePosition, creditIssuerGroupingReference, filterUnit, groupingSpotDiscountDate, priceGreekShiftFilter = priceGreekShiftEquityFilter, includeAllTrades, theoreticalValuesUndiscounted]);
[Credit Pricing and Risk]FInstrument:creditBasketJTDMtMValues = collapse(creditBasketJTDMtMValuesCore);