[Credit Pricing and Risk]FInstrumentAndTrades:creditHedge = select(creditCurveSingleRow == nil, 
  true->timeBucketsSetExternallyNilVector, 
  false->shunt(isZeroRiskPosition, 
    true->timeBucketsSetExternallyNilVector, 
    false->select(timeBucketsSetExternally == nil, 
      true->nil, 
      false->creditHedge(arrayRaw(creditDelta), creditDeltaHedge))));
[Credit Pricing and Risk]FPortfolioInstrumentAndTrades:creditHedge = timeBucketsSetExternallyNilVector;