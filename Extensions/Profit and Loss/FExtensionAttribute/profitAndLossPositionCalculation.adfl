[Profit and Loss]FInstrument:profitAndLossPositionCalculation = select(taxLotValuation, 
  true->profitAndLossTaxLotPosition(valuationDate, cashValueBreakDate, object, taxLotPositionObject, closeDerivativesAfterExpiry), 
  false->profitAndLossPosition(valuationDate, cashValueBreakDate, object, tradesInPosition, tradeStatusInclusionMaskDefault, closeDerivativesAfterExpiry));