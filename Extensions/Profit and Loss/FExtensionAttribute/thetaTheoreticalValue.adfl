[Profit and Loss]FInstrumentAndTrades:thetaTheoreticalValue = differential(shift(theoreticalValueEnd, snoop(theoreticalValueEnd, valuationDateTimeRiskFactorNames), + thetaShiftSize), theoreticalValueEnd);
[Profit and Loss]FTimeBucketAndObject:thetaTheoreticalValue = scenarioaxisarray(rowObject:thetaTheoreticalValue [displayCurrency, profitAndLossSeparateHistorical := true, profitAndLossStartDate := longTimeAgo, profitAndLossEndDate = valuationBaseDate], timeDistributionPerimeterNames, <["timeDistributionBucket"], , , timeBucketCollection>, <["timeApportionmentType"], , , timeApportionmentTypeSelected>)[timeBucketCollectionIndex];