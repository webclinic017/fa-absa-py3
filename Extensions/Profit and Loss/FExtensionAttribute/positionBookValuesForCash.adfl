[Profit and Loss]FInstrument:positionBookValuesForCash = select(tradePremiumPartOfInstrument, 
  true->positionValues, 
  false->denominatedbasket([]));
[Profit and Loss]FMultiInstrumentAndTrades:positionBookValuesForCash = sumOf(openInstruments :* "collapse(positionBookValuesForCash)" [positionObject, valuesOnSpotOverride, valuationBaseDateTimeInput]);
[Profit and Loss]FSingleInstrumentAndTrades:positionBookValuesForCash = openInstrument :* "collapse(positionBookValuesForCash)" [positionObject, valuesOnSpotOverride, valuationBaseDateTimeInput];
[Profit and Loss]FTrade:positionBookValuesForCash = instrument:positionBookValuesForCash [singleTradePosition, includeAllTrades, valuationBaseDateTimeInput];
[Profit and Loss]FTradeRow:positionBookValuesForCash = openInstrumentOrTaxLotInstrument :* "collapse(positionBookValuesForCash)" [singleTradePosition, includeAllTrades, valuationBaseDateTimeInput, taxLotPositionObject, taxLotValuation := taxLotPnL];