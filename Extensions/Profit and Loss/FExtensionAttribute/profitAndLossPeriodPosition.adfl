[Profit and Loss]FInstrument:profitAndLossPeriodPosition = shunt(profitAndLossPeriodType, 
  "Inception to Present"->profitAndLossPosition, 
  "Inception to Historical"->profitAndLossPositionEnd, 
  "Historical to Present"->profitAndLossPosition - profitAndLossPositionStart, 
  "Historical to Historical"->profitAndLossPositionEnd - profitAndLossPositionStart);
[Profit and Loss]FSingleInstrumentAndTrades:profitAndLossPeriodPosition = instrument:profitAndLossPeriodPosition [positionObject, profitAndLossStartDate, profitAndLossEndDate];