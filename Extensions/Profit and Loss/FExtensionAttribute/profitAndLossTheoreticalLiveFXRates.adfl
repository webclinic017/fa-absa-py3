[Profit and Loss]FInstrumentAndTrades:profitAndLossTheoreticalLiveFXRates = select(pLPeriodFXIsReportDate, 
  true->theoreticalFXRateInstruments :* "profitAndLossLiveFXRate" [allowMarkToMarketPrice := true, fxForwardDate = profitAndLossFXRateForwardDate], 
  false->theoreticalFXRateInstruments :* "profitAndLossFXRate" [profitAndLossFXRateDate, allowMarkToMarketPrice := true, profitAndLossFXRateForwardDate]);