[Core Cash Flow Pricing]FAbstractReset:averageForwardFixingTypeImpl = select(actualFixingInstrument.IsKindOf("FCurrency"), 
  true->"FX", 
  false->select(actualFixingInstrument.IsBasedOnCommodity, 
    true->"Commodity", 
    false->nil));