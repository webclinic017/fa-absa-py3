[Risk Factor Extraction]FObject:riskFactorTimeCoordinate = riskFactorTimeCoordinateBucket:riskFactorTimeCoordinate;
[Risk Factor Extraction]FTimeBucket:riskFactorTimeCoordinate = select(object.IsRest, 
  true->object.EndDateForShift, 
  false->timeBucketDate);
[Risk Factor Extraction]FUndefinedObject:riskFactorTimeCoordinate = valuationDate;