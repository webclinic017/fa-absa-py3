[Prime Services]FLeg:theoreticalLegComponentValueSlim = shunt(isCFDPSwap, 
  default->staticLegInformation.TheoreticalValue(collapse(theoreticalLegValueCurve), [], valuationDate, valuationDateRightDate, theoreticalLegCashFlowRightDate, cashFlowRightCutOffDate, cleanContribution, theoreticalLegValueSetBaseDate, legInformation, roundingInformation, timeDistributionApportionmentType, timeDistributionApportionmentStartDate, timeDistributionApportionmentPeakDate, timeDistributionApportionmentEndDate, timeDistributionDateStartsApportionment, theoreticalLegValueFactorFilter), 
  true->discountCurve.DiscountValues(object.getPSwapValMarket(profitAndLossStartDate, valuationDate, (object.IndexRef) :* "marketSpotValue", object.Oid), valuationDate));