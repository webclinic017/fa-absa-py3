[Equity Pricing and Risk]FInstrument:dividendsNonDiscountedForSingleExoticEvents = select(dividendForecastNoRef, 
  nil->collapse(valuationDateZero), 
  default->select(dividendForecastNoRef.FxConversionNeeded(adsPriceDate, bigDate, calculationCurrency), 
    true->dividendsNonDiscounted(dividendForecastNoRef, adsPriceDate, datesInPeriodForSingleExoticEvents, false, dividendFactor, includeTaxFactor, datesInPeriodForSingleExoticEvents, dividendForecastMarketValuesIfPropDiv, calculationCurrency, filterUnitForDividendForecastDividends, underlyingDividendsFxSpotRatesForTimeShift), 
    false->dividendsNonDiscounted(dividendForecastNoRef, adsPriceDate, datesInPeriodForSingleExoticEvents, false, dividendFactor, includeTaxFactor, datesInPeriodForSingleExoticEvents, dividendForecastMarketValuesIfPropDiv, calculationCurrency, filterUnitForDividendForecastDividends)));