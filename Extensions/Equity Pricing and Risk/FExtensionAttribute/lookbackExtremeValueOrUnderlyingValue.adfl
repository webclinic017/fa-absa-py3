[Equity Pricing and Risk]FOption:lookbackExtremeValueOrUnderlyingValue = select((isFloatingStrike and isCall) or (not isFloatingStrike and not isCall), 
  true->min(lookbackExtremeValueInCalculationCurrency, underlyingValue), 
  false->max(lookbackExtremeValueInCalculationCurrency, underlyingValue));