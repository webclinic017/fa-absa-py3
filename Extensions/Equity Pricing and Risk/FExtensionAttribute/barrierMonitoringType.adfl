[Equity Pricing and Risk]FInstrument:barrierMonitoringType = nil;
[Equity Pricing and Risk]FInstrumentAndTrades:barrierMonitoringType = instrument:barrierMonitoringType;
[Equity Pricing and Risk]FMultiInstrumentAndTrades:barrierMonitoringType = nil;
[Equity Pricing and Risk]FOption:barrierMonitoringType = select(isBarrierOption, 
  true->exotic.BarrierMonitoring, 
  default->"None");
[Equity Pricing and Risk]FPriceAggregate:barrierMonitoringType = instrument:barrierMonitoringType;