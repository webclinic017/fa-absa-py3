[Equity Pricing and Risk]FInstrument:cliquetCarryCostQuanto = select(isCliquet, 
  true->select(isQuanto, 
    true->quantoAdjustedCarryCost(cliquetCarryCost, underlyingFXCorrelation, cliquetSpotOrForwardVolatilityForExpiry, fxVolatility), 
    false->cliquetCarryCost), 
  false->carryCostQuanto);