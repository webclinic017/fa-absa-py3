[Standard Calculations]FCashFlowInstrument:marketAssetCashSpreadForStandardCalculations = select(assetSwapSpreadCalculationValid, 
  true->firstStaticLegInformation.AssetSwapSpread(denominatedvalue(1.0), assetSwapSpreadRiskFreeValueForStandardCalculations, forwardAssetSwapCouponFactorForStandardCalculations, valuationDate), 
  false->nil);
[Standard Calculations]FInstrument:marketAssetCashSpreadForStandardCalculations = 0.0;
[Standard Calculations]FInstrumentAndTrades:marketAssetCashSpreadForStandardCalculations = instrument :* "marketAssetCashSpreadForStandardCalculations" [priceSource, yieldCurve, marketPrice = denominatedvalue(marketPriceForStandardCalculations, , , datetime(marketPrice))];
[Standard Calculations]FMultiInstrumentAndTrades:marketAssetCashSpreadForStandardCalculations = nil;