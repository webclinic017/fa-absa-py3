[Standard Calculations]FInstrument:standardCalculationsPriceFromSpread = select(standardCalculationsSpreadType, 
  "YTMspread"->standardCalculationsInstrumentSpotPriceFromYieldSpread, 
  "Zspread"->standardCalculationsInstrumentSpotPriceFromZSpread, 
  default->throwError("Unsupported spread type " + standardCalculationsSpreadType));
[Standard Calculations]FInstrumentAndTrades:standardCalculationsPriceFromSpread = select(yieldCurve, 
  nil->instrument:standardCalculationsPriceFromSpread [standardCalculationsSpreadType, standardCalculationsSpread, fromQuoteValueDate, instrumentSpotDate = max(fromQuoteValueDate, instrument:startDate)], 
  default->instrument:standardCalculationsPriceFromSpread [standardCalculationsSpreadType, standardCalculationsSpread, fromQuoteValueDate, riskFreeDiscountCurve = irCurveInformationForStandardCalculationsInstrumentSpecific, riskFreeDiscountCurveNames = "irCurveInformationForStandardCalculationsInstrumentSpecific", instrumentSpotDate = max(fromQuoteValueDate, instrument:startDate)]);