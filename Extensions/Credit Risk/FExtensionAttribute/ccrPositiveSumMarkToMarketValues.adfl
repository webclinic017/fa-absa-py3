[Credit Risk]FFxRate:ccrPositiveSumMarkToMarketValues = discountAndFilterCurrency(ccrPositiveMarkToMarketValuesFx, discountAndConvertToBaseForwardFXConversionMoneyMarketCurve, discountAndConvertToBaseDate, filterUnit);
[Credit Risk]FInstrument:ccrPositiveSumMarkToMarketValues = denominatedValueOrBasket(max(markToMarketValues, baseDateZero));
[Credit Risk]FInstrumentAndTrades:ccrPositiveSumMarkToMarketValues = openInstrument :* "ccrPositiveSumMarkToMarketValues" [priceSource, isSplitAllGrouped, valuesOnSpotOverride, positionObject, useMarkToMarketPriceToday, useFallbackToTheoreticalValues, profitAndLossParameters, filterUnit, groupingSpotDiscountDate, plSpotGroupingReference, profitAndLossFXRateDate, accountingParameters, tradedPortfolio, forwardFXConversionCurvesIgnoreDiscType, forwardFXConversionFXRatesIgnoreDiscType, displayCurrency];
[Credit Risk]FMultiInstrumentAndTrades:ccrPositiveSumMarkToMarketValues = sumOf(openInstruments :* "ccrPositiveSumMarkToMarketValues" [priceSource, isSplitAllGrouped, valuesOnSpotOverride, positionObject, useMarkToMarketPriceToday, useFallbackToTheoreticalValues, profitAndLossParameters, filterUnit, groupingSpotDiscountDate, plSpotGroupingReference, profitAndLossFXRateDate, accountingParameters, tradedPortfolio, forwardFXConversionCurvesIgnoreDiscType, forwardFXConversionFXRatesIgnoreDiscType, displayCurrency, forwardFXConversionCurrencySymbol := displayCurrencySymbol]);