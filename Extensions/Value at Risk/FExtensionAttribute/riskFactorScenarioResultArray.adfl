[Value at Risk]FInstrumentAndTrades:riskFactorScenarioResultArray = array(select(riskFactorScenario == nil, 
  true->denominatedvalue(0), 
  false->differential(scenarioaxisarray(theoreticalValue, , , riskFactorScenarioAxis), theoreticalValue, 1, 1))).Flatten;