[Automated Trading]FInstrument:theoreticalDeltaAsk = select(isCalculatedTheoretically, 
  true->shift(priceDeltaInstrument, snoop(priceDeltaInstrument, "marketPrice"), fixedvariant underlyingOrSelfAskPrice), 
  false->nil);
[Automated Trading]FOrderBook:theoreticalDeltaAsk = instrument :* "theoreticalDeltaAsk" [priceSource];