[Automated Trading]FInstrument:theoreticalDeltaBid = select(isCalculatedTheoretically, 
  true->shift(priceDeltaInstrument, snoop(priceDeltaInstrument, "marketPrice"), fixedvariant underlyingOrSelfBidPrice), 
  false->nil);
[Automated Trading]FOrderBook:theoreticalDeltaBid = instrument :* "theoreticalDeltaBid" [priceSource];