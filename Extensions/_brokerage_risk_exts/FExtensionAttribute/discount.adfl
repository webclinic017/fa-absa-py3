[_brokerage_risk_exts]FCurrency:discount = 100 - haircut;
[_brokerage_risk_exts]FDeposit:discount = 100 - haircut;
[_brokerage_risk_exts]FInstrument:discount = shunt(collateralPosition > 0, 
  true->100 - haircut, 
  false->0.0);
[_brokerage_risk_exts]FSingleInstrumentAndTrades:discount = instrument:discount [portfolio, positionObject];