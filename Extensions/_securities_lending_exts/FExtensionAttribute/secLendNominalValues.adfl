[_securities_lending_exts]FInstrument:secLendNominalValues = discountAndFilterCurrency(abs(collapse(secLendNominalValuesUndiscounted)), discountAndConvertToBaseDiscountCurves, discountAndConvertToBaseDate, filterUnit);
[_securities_lending_exts]FInstrumentAndTrades:secLendNominalValues = openInstrument :* "collapse(secLendNominalValues)" [priceSource, isSplitAllGrouped, valuesOnSpotOverride, positionObject, filterUnit, groupingSpotDiscountDate];
[_securities_lending_exts]FLegAndTrades:secLendNominalValues = instrument :* "secLendNominalValues" [priceSource, isSplitAllGrouped, includeAllTrades, valuesOnSpotOverride, positionObject, tradesInPosition, legs, filterUnit, groupingSpotDiscountDate];
[_securities_lending_exts]FMultiInstrumentAndTrades:secLendNominalValues = sumOf(openInstruments :* "collapse(secLendNominalValues)" [priceSource, isSplitAllGrouped, valuesOnSpotOverride, positionObject, filterUnit, groupingSpotDiscountDate]);
[_securities_lending_exts]FTradeRow:secLendNominalValues = openInstrument :* "secLendNominalValues" [priceSource, isSplitAllGrouped, valuesOnSpotOverride, singleTradePosition, includeAllTrades, filterUnit, positionObject, groupingSpotDiscountDate];