[_convertible_pricing_and_risk_exts]FInstrument:putDurationFromModifiedPutDuration = select(fixLeg, 
  nil->nan, 
  default->select(fixLeg:rollingFrequency, 
    0->(1 + double(theoreticalYieldToNextPut)) * bondFloorToNextPutModifiedDuration, 
    default->(1 + double(theoreticalYieldToNextPut) / fixLeg:rollingFrequency) * bondFloorToNextPutModifiedDuration));