[_convertible_pricing_and_risk_exts]FInstrument:bondFloorToNextPutDuration = select(ytmCalculationValid, 
  true->shunt(nextPutInFuture, 
    nil->nil, 
    default->putDurationFromModifiedPutDuration), 
  false->nan);
[_convertible_pricing_and_risk_exts]FInstrumentAndTrades:bondFloorToNextPutDuration = instrument :* "bondFloorToNextPutDuration" [priceSource];
[_convertible_pricing_and_risk_exts]FMultiInstrumentAndTrades:bondFloorToNextPutDuration = nan;
[_convertible_pricing_and_risk_exts]FPriceAggregate:bondFloorToNextPutDuration = instrument:bondFloorToNextPutDuration;