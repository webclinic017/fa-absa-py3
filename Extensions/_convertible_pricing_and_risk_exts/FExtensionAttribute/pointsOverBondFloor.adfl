[_convertible_pricing_and_risk_exts]FCashFlowInstrument:pointsOverBondFloor = shunt(isFinite(marketPrice), 
  true->stripDateTimePart(marketPriceToQuote) - stripDateTimePart(bondFloor), 
  false->nil);
[_convertible_pricing_and_risk_exts]FInstrument:pointsOverBondFloor = nil;
[_convertible_pricing_and_risk_exts]FInstrumentAndTrades:pointsOverBondFloor = openInstrumentOrInstrument :* "pointsOverBondFloor" [priceSource, filterCurrency];
[_convertible_pricing_and_risk_exts]FMultiInstrumentAndTrades:pointsOverBondFloor = nil;
[_convertible_pricing_and_risk_exts]FOrderBook:pointsOverBondFloor = instrument :* "pointsOverBondFloor" [priceSource, quotation] * fxInstrumentToOrderBook;
[_convertible_pricing_and_risk_exts]FPriceAggregate:pointsOverBondFloor = priceFeed:pointsOverBondFloor [priceSource];
[_convertible_pricing_and_risk_exts]FPriceFeed:pointsOverBondFloor = instrument :* "pointsOverBondFloor" [priceSource, quotation] * fxInstrumentToPriceFeed;