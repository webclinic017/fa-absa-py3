[Adaptiv FVA]FCreditBalance:adaptivFVACalculationTypeResult = shunt((creditBalanceCollateralAgreement == nil) and (optimiseFVACalculation), 
  true->thTPLWithFundingCurve - thTPL, 
  false->adaptivFVAModel["FVA"]);